<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Rett Bau ‚Äì Bau- und Renovierungsarbeiten</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#0b0f1a; --card:#111827; --text:#e5e7eb; --muted:#94a3b8;
    --gold:#d4af37; --gold2:#b9921f; --ring:#facc15; --header-h:58px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:var(--bg);color:var(--text);padding-top:var(--header-h)}
  a{color:inherit;text-decoration:none}
  img{max-width:100%;display:block}
  .container{width:min(1200px,92%);margin-inline:auto}
  :target{scroll-margin-top:calc(var(--header-h) + 10px)}
  body.no-scroll{overflow:hidden}

  /* Header fixed */
  header{
    position:fixed; top:0; left:0; right:0; z-index:1000;
    background:rgba(10,14,26,.90);
    backdrop-filter:blur(10px);
    border-bottom:1px solid rgba(255,255,255,.08);
    height:var(--header-h);
  }
  .top{display:flex;align-items:center;justify-content:space-between;gap:.8rem;padding:.4rem 0;height:var(--header-h)}
  .brand{display:flex;align-items:center;gap:.6rem;font-weight:800}
  .brand img{height:40px;width:auto;border-radius:8px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.1)}
  .nav{display:flex;gap:.3rem;align-items:center}
  .nav a{padding:.5rem .7rem;border-radius:10px;color:var(--muted)}
  .nav a:hover{color:var(--text);background:rgba(255,255,255,.06)}
  .cta{display:flex;gap:.5rem;align-items:center}
  .btn{display:inline-flex;align-items:center;gap:.45rem;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);padding:.5rem .75rem;border-radius:12px;transition:.2s;white-space:nowrap}
  .btn:hover{transform:translateY(-1px);background:rgba(255,255,255,.08)}
  .btn.gold{background:linear-gradient(180deg,var(--gold),var(--gold2));color:#111827;border:none}

  /* Burger for mobile */
  .burger{display:none;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.04);padding:.5rem;border-radius:10px}
  .burger svg{width:20px;height:20px}
  #mobile-menu{display:none}
  @media (max-width:900px){
    .nav{display:none}
    .burger{display:inline-flex}
    #mobile-menu{display:none;position:fixed;top:var(--header-h);left:0;right:0;background:rgba(10,14,26,.98);border-bottom:1px solid rgba(255,255,255,.08);z-index:999}
    #mobile-menu .nav{display:flex;flex-direction:column;padding:10px}
    #mobile-menu .nav a{padding:.75rem;border-radius:12px}
    .cta{display:none}
  }

  /* Hero (auto-dim if Willkommen.webp exists) */
  .hero{position:relative;min-height:42vh;display:grid;place-items:center;text-align:center;overflow:hidden}
  .hero.with-bg::before{content:"";position:absolute;inset:0;background:var(--hero-img) center/cover no-repeat;filter:brightness(.42)}
  .hero.with-bg::after{content:"";position:absolute;inset:0;background:radial-gradient(60% 60% at 50% 40%,transparent,rgba(0,0,0,.5))}
  .hero-content{position:relative;z-index:1;padding:3rem 1rem}
  .hero h1{font-size:clamp(28px,4.5vw,54px);margin:.2rem 0 .6rem}
  .hero p{color:#ffffff;font-size:clamp(16px,2.2vw,20px);margin:0 auto 1rem;max-width:70ch}
  .hero .cta-row{display:flex;gap:.7rem;justify-content:center;flex-wrap:wrap;margin-top:1rem}

  /* Sections */
  .section{padding:44px 0}
  .section h2{text-align:center;font-size:clamp(22px,3vw,34px);margin:0 0 .8rem}
  .underline{display:block;width:72px;height:4px;background:linear-gradient(90deg,var(--gold),var(--gold2));border-radius:999px;margin:.5rem auto 0}

  /* Cards */
  .cards{display:grid;gap:1rem;margin-top:1rem;grid-template-columns:1fr}
  @media (min-width:700px){ .cards{grid-template-columns:repeat(2,1fr)} }
  @media (min-width:1024px){ .cards{grid-template-columns:repeat(3,1fr)} }
  .card{background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:16px;overflow:hidden;box-shadow:0 6px 16px rgba(0,0,0,.25)}
  .card .content{padding:1rem}
  .card h3{margin:.2rem 0 .4rem;color:var(--gold)}
  .muted{color:var(--muted)}

  /* Lead (Gesch√§ftsf√ºhrer) */
  .lead{display:grid;grid-template-columns:1fr 1.2fr;gap:1rem;align-items:center;margin-top:1rem}
  .lead .photo{border-radius:16px;overflow:hidden;border:1px solid rgba(255,255,255,.1)}
  .lead .bio h3{margin:.2rem 0 .6rem;color:var(--gold)}
  .lead .bio p{color:var(--muted)}
  .lead .links{display:flex;gap:.6rem;margin-top:.8rem;flex-wrap:wrap}
  @media (max-width:900px){.lead{grid-template-columns:1fr}}

  /* Gallery (portrait tiles, 2-up on mobile) */
  .gallery{display:grid;gap:.7rem;margin-top:1rem}
  .gallery{grid-template-columns:repeat(2, 1fr)}
  @media (min-width:700px){ .gallery{grid-template-columns:repeat(3, 1fr)} }
  @media (min-width:1024px){ .gallery{grid-template-columns:repeat(4, 1fr)} }
  .gallery a{border-radius:14px;overflow:hidden;border:1px solid rgba(255,255,255,.08);box-shadow:0 4px 12px rgba(0,0,0,.3);display:block}
  .thumb{position:relative;aspect-ratio:3/4;width:100%}
  .thumb img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;transition:transform .25s ease}
  .gallery a:hover .thumb img{transform:scale(1.04)}

  /* Kontakt */
  form{display:grid;gap:.7rem;margin-top:1rem;max-width:640px;margin-inline:auto}
  input,textarea{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.14);color:var(--text);padding:.75rem;border-radius:12px;outline:none}
  input:focus,textarea:focus{border-color:var(--ring);box-shadow:0 0 0 4px rgba(250,204,21,.15)}
  textarea{min-height:140px}

  /* Footer */
  footer{padding:26px 0;color:var(--muted);text-align:center;border-top:1px solid rgba(255,255,255,.08);margin-top:34px}
  .footer-links a{color:var(--muted);margin:0 .6rem}

  /* Lightbox overlay */
  .lightbox{position:fixed;inset:0;background:rgba(0,0,0,.92);display:flex;align-items:center;justify-content:center;z-index:2000;opacity:0;pointer-events:none;transition:opacity .2s}
  .lightbox.active{opacity:1;pointer-events:auto}
  .lightbox-content{position:relative;max-width:92vw;max-height:92vh}
  .lightbox-content img{max-width:92vw;max-height:92vh;border-radius:12px}
  .lb-btn{position:absolute;background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.2);color:#fff;padding:.6rem;border-radius:999px;cursor:pointer}
  .lb-prev{left:-52px;top:50%;transform:translateY(-50%)}
  .lb-next{right:-52px;top:50%;transform:translateY(-50%)}
  .lb-close{right:-6px;top:-46px}
  @media (max-width:700px){
    .lb-prev{left:6px}
    .lb-next{right:6px}
    .lb-close{right:6px;top:6px}
  }
</style>
</head>
<body>

<header id="site-header">
  <div class="container top">
    <div class="brand">
      <img src="images/logo.webp" alt="Rett Bau Logo">
      <span>Rett Bau</span>
    </div>
    <nav class="nav" id="nav-desktop">
      <a href="#leistungen">Leistungen</a>
      <a href="#geschaeftsfuehrer">Gesch√§ftsf√ºhrer</a>
      <a href="#arbeiten">Unsere Arbeiten</a>
      <a href="#kontakt">Kontakt</a>
      <a href="#impressum">Impressum</a>
    </nav>
    <div class="cta">
      <a class="btn" href="tel:+4917625302773">üìû +4917625302773</a>
      <a class="btn" target="_blank" rel="noopener" href="https://m.facebook.com/profile.php?id=61579125225103">üìò Facebook</a>
    </div>
    <button class="burger" id="burger" aria-label="Men√º √∂ffnen" aria-expanded="false" aria-controls="mobile-menu">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
        <line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/>
      </svg>
    </button>
  </div>
  <div id="mobile-menu" class="container">
    <nav class="nav">
      <a href="#leistungen">Leistungen</a>
      <a href="#geschaeftsfuehrer">Gesch√§ftsf√ºhrer</a>
      <a href="#arbeiten">Unsere Arbeiten</a>
      <a href="#kontakt">Kontakt</a>
      <a href="#impressum">Impressum</a>
    </nav>
  </div>
</header>

<section class="hero" id="home">
  <div class="hero-content">
    <h1>Willkommen bei <span style="color:var(--gold)">Rett Bau</span></h1>
    <p>Ihr zuverl√§ssiger Partner f√ºr Bau- und Renovierungsarbeiten</p>
    <div class="cta-row">
      <a href="#kontakt" class="btn gold">Kostenloses Angebot anfordern</a>
      <a href="#arbeiten" class="btn">Unsere Arbeiten ansehen</a>
    </div>
  </div>
</section>

<section id="leistungen" class="section">
  <div class="container">
    <h2>Leistungen</h2>
    <span class="underline"></span>
    <div class="cards">
      <article class="card"><div class="content"><h3>Badsanierung</h3><p class="muted">Moderne und hochwertige Badrenovierungen.</p></div></article>
      <article class="card"><div class="content"><h3>Bodenverlegung</h3><p class="muted">Fliesen, Parkett und Laminat ‚Äì pr√§zise verlegt.</p></div></article>
      <article class="card"><div class="content"><h3>Komplettrenovierung</h3><p class="muted">Von Planung bis Abnahme ‚Äì alles aus einer Hand.</p></div></article>
    </div>
  </div>
</section>

<section id="geschaeftsfuehrer" class="section">
  <div class="container">
    <h2>Gesch√§ftsf√ºhrer</h2>
    <span class="underline"></span>
    <div class="lead">
      <div class="photo"><img id="lead-photo" src="images/Geschaeftsfuehrer.webp" alt="Daniel Rettinger ‚Äì Gesch√§ftsf√ºhrer"></div>
      <div class="bio">
        <h3>Daniel Rettinger</h3>
        <p>Inhaber und Gesch√§ftsf√ºhrer von Rett Bau. Ihr Ansprechpartner f√ºr Bau- und Renovierungsprojekte ‚Äì zuverl√§ssig, pr√§zise und termingerecht.</p>
        <div class="links">
          <a class="btn gold" href="tel:+4917625302773">üìû +4917625302773</a>
          <a class="btn" href="mailto:info@rettbau.de">‚úâÔ∏è info@rettbau.de</a>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="arbeiten" class="section">
  <div class="container">
    <h2>Unsere Arbeiten</h2>
    <span class="underline"></span>
    <div class="gallery" id="gallery"></div>
  </div>
</section>

<section id="kontakt" class="section">
  <div class="container">
    <h2>Kontakt</h2>
    <span class="underline"></span>
    <form id="contact-form">
      <input type="text" id="subject" placeholder="Betreff" required>
      <textarea id="message" placeholder="Nachricht" required></textarea>
      <button type="submit" class="btn gold">Anfrage senden</button>
      <p class="muted" style="text-align:center;margin:.3rem 0 0">Die Anfrage wird √ºber dein E-Mail-Programm an <strong>info@rettbau.de</strong> vorbereitet.</p>
    </form>
    <p style="text-align:center;margin-top:.6rem">Oder ruf uns direkt an: <a class="btn" href="tel:+4917625302773">üìû +4917625302773</a></p>
  </div>
</section>

<section id="impressum" class="section">
  <div class="container">
    <h2>Impressum</h2>
    <span class="underline"></span>
    <div class="card" style="margin-top:1rem;">
      <div class="content">
        <p><strong>Angaben gem√§√ü ¬ß 5 TMG</strong></p>
        <p>Rett Bau<br>Inhaber: Daniel Rettinger<br><em>Anschrift:</em> Bahnhofstra√üe 16, 85567 Grafing bei M√ºnchen<br>
        <em>Telefon:</em> +4917625302773<br>
        <em>E-Mail:</em> info@rettbau.de</p>
        <p><strong>USt-IdNr.:</strong> nicht vorhanden</p>
        <p><strong>Verantwortlich f√ºr den Inhalt nach ¬ß 55 Abs. 2 RStV:</strong><br>Daniel Rettinger, Bahnhofstra√üe 16, 85567 Grafing bei M√ºnchen</p>
        <p><strong>Haftung f√ºr Inhalte</strong><br>Als Diensteanbieter sind wir gem√§√ü ¬ß 7 Abs.1 TMG f√ºr eigene Inhalte auf diesen Seiten nach den allgemeinen Gesetzen verantwortlich. 
        Nach ¬ß¬ß 8 bis 10 TMG sind wir als Diensteanbieter jedoch nicht verpflichtet, √ºbermittelte oder gespeicherte fremde Informationen zu √ºberwachen.</p>
        <p><strong>Haftung f√ºr Links</strong><br>Unser Angebot enth√§lt Links zu externen Websites Dritter, auf deren Inhalte wir keinen Einfluss haben. 
        Deshalb k√∂nnen wir f√ºr diese fremden Inhalte keine Gew√§hr √ºbernehmen.</p>
        <p><strong>Urheberrecht</strong><br>Die durch die Seitenbetreiber erstellten Inhalte und Werke auf diesen Seiten unterliegen dem deutschen Urheberrecht.</p>
      </div>
    </div>
  </div>
</section>

<footer>
  <div class="container">
    <div class="footer-links">
      <a href="#impressum">Impressum</a> ¬∑ <a href="#kontakt">Kontakt</a>
    </div>
    <div style="margin-top:.4rem">¬© 2025 Rett Bau ‚Äì Alle Rechte vorbehalten.</div>
    <div style="margin-top:.4rem"><a class="btn" href="tel:+4917625302773">üìû +4917625302773</a></div>
  </div>
</footer>

<!-- Lightbox Overlay -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-content">
    <button class="lb-btn lb-close" id="lb-close" aria-label="Schlie√üen">‚úï</button>
    <button class="lb-btn lb-prev" id="lb-prev" aria-label="Vorheriges Bild">‚ùÆ</button>
    <img id="lb-img" src="" alt="">
    <button class="lb-btn lb-next" id="lb-next" aria-label="N√§chstes Bild">‚ùØ</button>
  </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  setupBurger();
  setupHero();
  setupGalleryPreload();
  setupLightbox();
  setupContact();
});

function setupBurger(){
  const burger = document.getElementById('burger');
  const mobileMenu = document.getElementById('mobile-menu');
  burger.addEventListener('click', () => {
    const open = mobileMenu.style.display === 'block';
    mobileMenu.style.display = open ? 'none' : 'block';
    burger.setAttribute('aria-expanded', String(!open));
  });
  mobileMenu.addEventListener('click', (e)=>{ if(e.target.tagName==='A') mobileMenu.style.display='none'; });
}

function setupHero(){
  const hero = document.querySelector('.hero');
  const test = new Image();
  test.onload = () => {
    hero.classList.add('with-bg');
    hero.style.setProperty('--hero-img', "url('images/Willkommen.webp')");
  };
  test.onerror = () => {
    const test2 = new Image();
    test2.onload = () => {
      hero.classList.add('with-bg');
      hero.style.setProperty('--hero-img', "url('images/willkommen.webp')");
    };
    test2.src = 'images/willkommen.webp';
  };
  test.src = 'images/Willkommen.webp';
}

/* New: preload images and only add successful ones (no flicker) */
function setupGalleryPreload(){
  const gallery = document.getElementById('gallery');
  const found = [];
  let schedule = null;

  function render(){
    schedule = null;
    found.sort((a,b)=>a.n-b.n);
    const frag = document.createDocumentFragment();
    for(const it of found){
      if(document.querySelector(`a.gallery-item[data-n="${it.n}"]`)) continue;
      const a = document.createElement('a');
      a.href = it.src;
      a.dataset.n = it.n;
      a.className = 'gallery-item';
      const wrap = document.createElement('div');
      wrap.className = 'thumb';
      const img = document.createElement('img');
      img.loading = 'lazy';
      img.src = it.src;
      img.alt = `Projekt ${it.n}`;
      wrap.appendChild(img);
      a.appendChild(wrap);
      frag.appendChild(a);
    }
    if(frag.childNodes.length) gallery.appendChild(frag);
  }

  for(let n=1;n<=200;n++){
    const test = new Image();
    test.onload = () => {
      found.push({n, src:`images/${n}.webp`});
      if(!schedule){ schedule = setTimeout(render, 50); }
    };
    test.src = `images/${n}.webp`;
  }

  // Delegate clicks for lightbox
  gallery.addEventListener('click', (e)=>{
    const a = e.target.closest('a.gallery-item');
    if(!a) return;
    e.preventDefault();
    openLightboxByHref(a.getAttribute('href'));
  });
}

function setupContact(){
  const contactForm = document.getElementById('contact-form');
  contactForm.addEventListener('submit', function(e){
    e.preventDefault();
    const subject = document.getElementById('subject').value.trim();
    const message = document.getElementById('message').value.trim();
    const href = `mailto:info@rettbau.de?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(message)}`;
    window.location.href = href;
  });
}

/* Lightbox logic */
let CURRENT_HREF = null;
const lb = document.getElementById('lightbox');
const lbImg = document.getElementById('lb-img');
const lbPrev = document.getElementById('lb-prev');
const lbNext = document.getElementById('lb-next');
const lbClose = document.getElementById('lb-close');
lbPrev.addEventListener('click', ()=>nav(-1));
lbNext.addEventListener('click', ()=>nav(1));
lbClose.addEventListener('click', closeLightbox);
lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLightbox(); });
document.addEventListener('keydown', (e)=>{
  if(!lb.classList.contains('active')) return;
  if(e.key === 'Escape') closeLightbox();
  if(e.key === 'ArrowLeft') nav(-1);
  if(e.key === 'ArrowRight') nav(1);
});

function getThumbs(){ return Array.from(document.querySelectorAll('.gallery-item')); }

function openLightboxByHref(href){
  CURRENT_HREF = href;
  lbImg.src = href;
  lb.classList.add('active');
  document.body.classList.add('no-scroll');
}

function nav(step){
  const thumbs = getThumbs();
  const idx = thumbs.findIndex(a => a.getAttribute('href') === CURRENT_HREF);
  if(idx === -1 || !thumbs.length) return;
  const nextIdx = (idx + step + thumbs.length) % thumbs.length;
  const nextHref = thumbs[nextIdx].getAttribute('href');
  CURRENT_HREF = nextHref;
  lbImg.src = nextHref;
}

function closeLightbox(){
  lb.classList.remove('active');
  document.body.classList.remove('no-scroll');
}
</script>

</body>
</html>
